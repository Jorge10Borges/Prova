---
// Componente que registra los Web Components de Swiper (sin CDN)
---
<script>
	import { register } from 'swiper/element/bundle';
  
		if (!(window as any).__swiper_el_loaded) {
			register();
			(window as any).__swiper_el_loaded = true;
		}

	// Idempotencia en navegaciones parciales (si se usan)
		document.addEventListener('astro:before-swap', () => {
			(window as any).__swiper_el_loaded = true;
		});
		document.addEventListener('astro:after-swap', () => {
			(window as any).__swiper_el_loaded = true;
		});
</script>
